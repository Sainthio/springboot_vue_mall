stateDiagram-v2
    [*] --> 浏览商品
    浏览商品 --> 查看商品详情
    查看商品详情 --> 加入购物车
    加入购物车 --> 查看购物车
    查看购物车 --> 选择收货地址
    选择收货地址 --> 提交订单
    提交订单 --> 验证库存
    验证库存 --> 库存充足: 是
    验证库存 --> 库存不足: 否
    库存不足 --> [*]
    库存充足 --> 计算金额
    计算金额 --> 生成订单
    生成订单 --> 扣减库存
    扣减库存 --> 清空购物车
    清空购物车 --> 订单完成
    订单完成 --> [*]
    
    note right of 验证库存
        检查商品库存是否充足
    end note
    
    note right of 扣减库存
        秒杀商品库存减1
    end note
